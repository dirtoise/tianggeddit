{% extends 'base.html' %}

{% block content %}

<nav class="navbar navbar-expand-md navbar-dark">
    <div class="">
        <img src="{{ tiangge_data.data_tiangge_banner() }}" class="" style="max-width:100%;">

        <div class="card-img-overlay">
            <div class="container">
            <div class="card-body row">
                <div class="col-sm-1"></div>
                <img src="{{ tiangge_data.data_tiangge_icon() }}" class="col-sm-2" style="max-width:11%;">
                <div class="col-sm-9">
                    <div class="row">

                    <div class="col-sm-auto">
                        <h1>
                            <span class="card-title badge rounded-pill bg-white text-dark">{{ tiangge_name }}</span>
                        </h1>
                    </div>
                    <div class="col-sm-auto mt-3">
                        <span>
                            <form action="{{ url_for('subscribe_process', name=tiangge_name) }}" method="post">
                                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
                                <input type="text" name="name" value="{{tiangge_name }}" hidden readonly>
                                {% if user_logged %}
                                    {% if not profile_data.user_sub_privileges(tiangge_data.tiangge_name_to_id()['id']) %}
                                        <input type="text" name="subscribe_process" value="subscribe" hidden readonly>
                                        <button type="submit" class="btn btn-primary btn-sm badge rounded-pill">Subscribe</button>
                                    {% else %}
                                        <input type="text" name="subscribe_process" value="unsubscribe" hidden readonly>
                                        <button type="submit" class="btn btn-danger btn-sm badge rounded-pill">Unsubscribe</button>
                                    {% endif %}
                                {% else %}
                                    <form action="{{ url_for('login',) }}" method="get">
                                        <input type="text" name="subscribe_process" value="subscribe" hidden readonly>
                                        <button type="submit" class="btn btn-primary btn-sm badge rounded-pill">Subscribe</button>
                                    </form>
                                {% endif %}
                            </form>
                        </span>
                    </div>
                    </div>
                    <h7><span class="card-text badge rounded-pill bg-secondary text-white">t/ {{ tiangge_name }}</span></h7>
                </div>
            </div>
            </div>
        </div>
    </div>
</nav>

<div class="container">
    <div class="row p-2">
        <div class="col-sm-8">
            <div class="row py-3">
                <div class="btn-group">
                    <a href="#"  method="get" class="btn btn-outline-dark" >
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-fire" viewBox="0 0 16 16">
                          <path d="M8 16c3.314 0 6-2 6-5.5 0-1.5-.5-4-2.5-6 .25 1.5-1.25 2-1.25 2C11 4 9 .5 6 0c.357 2 .5 4-2 6-1.25 1-2 2.729-2 4.5C2 14 4.686 16 8 16Zm0-1c-1.657 0-3-1-3-2.75 0-.75.25-2 1.25-3C6.125 10 7 10.5 7 10.5c-.375-1.25.5-3.25 2-3.5-.179 1-.25 2 1 3 .625.5 1 1.364 1 2.25C11 14 9.657 15 8 15Z"/>
                        </svg>
                        <small class="">
                            Hot
                        </small>
                    </a>
                    <a href="#"  method="get" class="btn btn-outline-dark " >
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-up-circle" viewBox="0 0 16 16">
                          <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z"/>
                        </svg>
                        <small class="">
                            Top
                        </small>
                    </a>
                    <a href="#"  method="get" class="btn btn-outline-dark active" aria-current="page">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                          <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                        </svg>
                        <small class="">
                            New
                        </small>
                    </a>
                    <a href="#"  method="get" class="btn btn-outline-dark " >
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-graph-up-arrow" viewBox="0 0 16 16">
                          <path fill-rule="evenodd" d="M0 0h1v15h15v1H0V0Zm10 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V4.9l-3.613 4.417a.5.5 0 0 1-.74.037L7.06 6.767l-3.656 5.027a.5.5 0 0 1-.808-.588l4-5.5a.5.5 0 0 1 .758-.06l2.609 2.61L13.445 4H10.5a.5.5 0 0 1-.5-.5Z"/>
                        </svg>
                        <small class="">
                            Rising
                        </small>
                    </a>
                    <a href="#"  method="get" class="btn btn-outline-dark " >
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-exclamation-triangle" viewBox="0 0 16 16">
                          <path d="M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.146.146 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.163.163 0 0 1-.054.06.116.116 0 0 1-.066.017H1.146a.115.115 0 0 1-.066-.017.163.163 0 0 1-.054-.06.176.176 0 0 1 .002-.183L7.884 2.073a.147.147 0 0 1 .054-.057zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z"/>
                          <path d="M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995z"/>
                        </svg>
                        <small class="">
                            Controversial
                        </small>
                    </a>

                </div>
            </div>
            <div class="container gap-2 border rounded bg-light pt-3">
                {% for post in tiangge_posts|reverse %}
                    <div class="row">
                        <div class="col-2 py-2 ">
                            {% if user_logged %}
                                <form action="{{ url_for('approve_post_process', name=tiangge_name, title=post.title, hexcd=post.hex_cd)}}" method="post">
                                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" readonly/>
                                    <input type="text" name="tiangge_name" value="{{tiangge_name }}" hidden readonly>
                                    <input type="number" name="approval_like" value="{{ post.like }}" hidden readonly>
                                    <input type="number" name="approval_dislike" value="{{ post.dislike }}" hidden readonly>
                                    <input type="number" name="approval_total" value="{{ post.total }}" hidden readonly>
                                    <input type="text" name="uploader_username" value="{{ post.username }}" hidden readonly>
                                    <input type="text" name="interacting_username" value="{{ session.user }}" hidden readonly>
                                    <input type="text" name="post_title" value="{{ post.title }}" hidden readonly>
                                    <input type="text" name="post_date_created" value="{{ post.date_created }}" hidden readonly>
                                        <div class="gap-2">
                                            {% if tiangge_data.tiangge_user_approvals(session['user'], post.id) %}
                                                {% if tiangge_data.tiangge_user_approvals(session['user'], post.id)['approval_type'] == "approved" %}
                                                    <input type="text" name="approval_type" value="approved" hidden readonly>
                                                    <div class="row">
                                                        <div class="col-6">
                                                            <button type="submit" class="btn btn-outline-danger btn-circle" name="approval" value="approved">
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart-fill" viewBox="0 0 16 16">
                                                                  <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"/>
                                                                </svg>
                                                            </button>
                                                        </div>
                                                        <div class="col-6 fs-8 my-2">
                                                            {{post.like}}
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        &nbsp
                                                    </div>

                                                    <div class="row">
                                                        <div class="col-6">
                                                            <button type="submit" class="btn btn-outline-secondary btn-circle" name="approval" value="disapproved">
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heartbreak" viewBox="0 0 16 16">
                                                                  <path fill-rule="evenodd" d="M8.867 14.41c13.308-9.322 4.79-16.563.064-13.824L7 3l1.5 4-2 3L8 15a38.094 38.094 0 0 0 .867-.59Zm-.303-1.01c6.164-4.4 6.91-7.982 6.22-9.921C14.031 1.37 11.447.42 9.587 1.368L8.136 3.18l1.3 3.468a1 1 0 0 1-.104.906l-1.739 2.608.971 3.237Zm-1.25 1.137a36.027 36.027 0 0 1-1.522-1.116C-5.077 4.97 1.842-1.472 6.454.293c.314.12.618.279.904.477L5.5 3 7 7l-1.5 3 1.815 4.537Zm-2.3-3.06C.895 7.797.597 4.875 1.308 3.248c.756-1.73 2.768-2.577 4.456-2.127L4.732 2.36a1 1 0 0 0-.168.991L5.91 6.943l-1.305 2.61a1 1 0 0 0-.034.818l.442 1.106Z"/>
                                                                </svg>
                                                            </button>
                                                        </div>

                                                        <div class="col-6 fs-8 my-2">
                                                            {{post.dislike}}
                                                        </div>
                                                    </div>
                                                {% elif tiangge_data.tiangge_user_approvals(session['user'], post.id)['approval_type'] == "disapproved" %}
                                                    <input type="text" name="approval_type" value="disapproved" hidden readonly>
                                                    <div class="row">
                                                        <div class="col-6">
                                                            <button type="submit" class="btn btn-outline-danger btn-circle" name="approval" value="approved">
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart" viewBox="0 0 16 16">
                                                                    <path d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"/>
                                                                </svg>
                                                            </button>
                                                        </div>
                                                        <div class="col-6 fs-8 my-2 ">
                                                            {{post.like}}
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        &nbsp
                                                    </div>

                                                    <div class="row">
                                                        <div class="col-6">
                                                            <button type="submit" class="btn btn-outline-secondary btn-circle" name="approval" value="disapproved">
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heartbreak-fill" viewBox="0 0 16 16">
                                                                  <path fill-rule="evenodd" d="M8.931.586 7 3l1.5 4-2 3L8 15C22.534 5.396 13.757-2.21 8.931.586ZM7.358.77 5.5 3 7 7l-1.5 3 1.815 4.537C-6.533 4.96 2.685-2.467 7.358.77Z"/>
                                                                </svg>
                                                            </button>
                                                        </div>

                                                        <div class="col-6 fs-8 my-2">
                                                            {{post.dislike}}
                                                        </div>
                                                    </div>

                                                {% endif %}
                                            {% else %}
                                                <div class="row">
                                                    <div class="col-6">
                                                        <button type="submit" class="btn btn-outline-danger btn-circle" name="approval" value="approved">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart" viewBox="0 0 16 16">
                                                                <path d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"/>
                                                            </svg>
                                                        </button>
                                                    </div>
                                                    <div class="col-6 fs-8 my-2 ">
                                                        {{post.like}}
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    &nbsp
                                                </div>

                                                <div class="row">
                                                    <div class="col-6">
                                                        <button type="submit" class="btn btn-outline-secondary btn-circle" name="approval" value="disapproved">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heartbreak" viewBox="0 0 16 16">
                                                              <path fill-rule="evenodd" d="M8.867 14.41c13.308-9.322 4.79-16.563.064-13.824L7 3l1.5 4-2 3L8 15a38.094 38.094 0 0 0 .867-.59Zm-.303-1.01c6.164-4.4 6.91-7.982 6.22-9.921C14.031 1.37 11.447.42 9.587 1.368L8.136 3.18l1.3 3.468a1 1 0 0 1-.104.906l-1.739 2.608.971 3.237Zm-1.25 1.137a36.027 36.027 0 0 1-1.522-1.116C-5.077 4.97 1.842-1.472 6.454.293c.314.12.618.279.904.477L5.5 3 7 7l-1.5 3 1.815 4.537Zm-2.3-3.06C.895 7.797.597 4.875 1.308 3.248c.756-1.73 2.768-2.577 4.456-2.127L4.732 2.36a1 1 0 0 0-.168.991L5.91 6.943l-1.305 2.61a1 1 0 0 0-.034.818l.442 1.106Z"/>
                                                            </svg>
                                                        </button>
                                                    </div>

                                                    <div class="col-6 fs-8 my-2 ">
                                                        {{post.dislike}}
                                                    </div>
                                                </div>

                                            {% endif %}
                                        </div>
                                </form>
                            {% else %}
                                <form action="{{ url_for('login',)}}" method="get">
                                    <div class="gap-2">
                                        <div class="row">
                                            <div class="col-6">
                                                <button type="submit" class="btn btn-outline-danger btn-circle" name="approval" value="approve">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart" viewBox="0 0 16 16">
                                                        <path d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"/>
                                                    </svg>
                                                </button>
                                            </div>
                                            <div class="col-6 fs-8 my-2 ">
                                                {{post.like}}
                                            </div>
                                        </div>

                                        <div class="row">
                                            &nbsp
                                        </div>

                                        <div class="row">
                                            <div class="col-6">
                                                <button type="submit" class="btn btn-outline-secondary btn-circle" name="approval" value="disapprove">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heartbreak" viewBox="0 0 16 16">
                                                      <path fill-rule="evenodd" d="M8.867 14.41c13.308-9.322 4.79-16.563.064-13.824L7 3l1.5 4-2 3L8 15a38.094 38.094 0 0 0 .867-.59Zm-.303-1.01c6.164-4.4 6.91-7.982 6.22-9.921C14.031 1.37 11.447.42 9.587 1.368L8.136 3.18l1.3 3.468a1 1 0 0 1-.104.906l-1.739 2.608.971 3.237Zm-1.25 1.137a36.027 36.027 0 0 1-1.522-1.116C-5.077 4.97 1.842-1.472 6.454.293c.314.12.618.279.904.477L5.5 3 7 7l-1.5 3 1.815 4.537Zm-2.3-3.06C.895 7.797.597 4.875 1.308 3.248c.756-1.73 2.768-2.577 4.456-2.127L4.732 2.36a1 1 0 0 0-.168.991L5.91 6.943l-1.305 2.61a1 1 0 0 0-.034.818l.442 1.106Z"/>
                                                    </svg>
                                                </button>
                                            </div>

                                            <div class="col-6 fs-8 my-2">
                                                {{post.dislike}}
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            {% endif %}
                        </div>

                        <div class="col-sm-8 p-2">
                            <div class="row">
                                <div class="col-auto">
                                    <a href="{{ url_for('post', name=tiangge_name, title=post.title, hexcd=post.hex_cd) }}" class="link-primary fs-5 text-underline-hover">
                                        {{ post.title }}
                                    </a>
                                </div>
                            </div>
                            <div class="row py-3">
                                {% for post_id, mask in post_mask.items() %}
                                    {% if post_id == post.id %}
                                        {% if post.content_type in legal_extensions_vid %}
                                            <div class="col-auto">
                                              <button class="btn btn-outline-dark btn-circle  btn-sm-duper" type="button" data-bs-toggle="collapse" href="#multiCollapseExample_{{mask}}" id="videoCollapse_{{mask}}" role="button" aria-expanded="false" aria-controls="multiCollapseExample_{{mask}}" onclick="video_player_Function('{{mask}}')">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">
                                                  <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"/>
                                                </svg>
                                              </button>
                                            </div>
                                        {% elif post.content_type in legal_extensions_img %}
                                            <div class="col-auto">
                                              <button class="btn btn-outline-dark btn-circle  btn-sm-duper" type="button" data-bs-toggle="collapse" href="#multiCollapseExample_{{mask}}" id="imgCollapse_{{mask}}" role="button" aria-expanded="false" aria-controls="multiCollapseExample_{{mask}}" onclick="video_player_Function('{{mask}}')">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-camera-fill" viewBox="0 0 16 16">
                                                  <path d="M10.5 8.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"/>
                                                  <path d="M2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4H2zm.5 2a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1zm9 2.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0z"/>
                                                </svg>
                                              </button>
                                            </div>
                                        {% else %}
                                            <div class="col-auto">
                                              <button class="btn btn-outline-dark btn-circle  btn-sm-duper" type="button" data-bs-toggle="collapse" href="#multiCollapseExample_{{mask}}" role="button" aria-expanded="false" aria-controls="multiCollapseExample_{{mask}}">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrows-angle-expand" viewBox="0 0 16 16">
                                                  <path fill-rule="evenodd" d="M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707zm4.344-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707z"/>
                                                </svg>
                                              </button>
                                            </div>
                                        {% endif %}

                                    <div class="col-auto pt-2">
                                        <p class="fs-7 "> Submitted {{post.date_created}} by

                                            {% if user_logged %}
                                            {% if session['user'] != post.username %}
                                                <a href="{{url_for('profile_submitted', profile_name=post.username)}}" class="link-primary text-underline-hover">
                                                    {{post.username}}
                                                </a>
                                                <form action="{{ url_for('interact_user_process',) }}" method="POST">
                                                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" readonly/>
                                                    <input type="hidden" name="interacting_user" value="{{ session['user'] }}" readonly/>
                                                    <input type="hidden" name="interacted_user" value="{{ post.username }}" readonly/>
                                                    {% if tiangge_data.tiangge_user_user_others(post.username)['relationship'] == "followed" %}
                                                        <input type="hidden" name="user_relationship" value="unfollowed" readonly/>
                                                        <button type="submit" class="btn btn-primary btn-sm badge rounded-pill">Unfollow user</button>
                                                    {% else %}
                                                        <input type="hidden" name="user_relationship" value="followed"/>
                                                        <button type="submit" class="btn btn-primary btn-sm badge rounded-pill">Follow user</button>
                                                    {% endif %}
                                                </form>
                                                <form action="{{ url_for('interact_user_process',) }}" method="POST">
                                                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" readonly/>
                                                    <input type="hidden" name="interacting_user" value="{{ session['user'] }}" readonly/>
                                                    <input type="hidden" name="interacted_user" value="{{ post.username }}" readonly/>
                                                    {% if not tiangge_data.tiangge_user_user_others(post.username)['relationship'] == "blocked" %}
                                                        <input type="hidden" name="user_relationship" value="blocked" readonly/>
                                                        <button type="submit" class="btn btn-danger btn-sm badge rounded-pill">Block user</button>
                                                    {% else %}
                                                        <input type="hidden" name="user_relationship" value="unblocked" readonly/>
                                                        <button type="submit" class="btn btn-secondary btn-sm badge rounded-pill">Unblock user</button>
                                                    {% endif %}
                                                </form>
                                            {% else %}
                                                <a href="{{url_for('profile_submitted', profile_name=post.username)}}" class="link-primary text-underline-hover">
                                                    {{post.username}}
                                                </a>
                                            {% endif %}
                                            {% else %}
                                                {{skip}}
                                            {% endif %}
                                        </p>
                                    </div>
                                    <div class="collapse multi-collapse" id="multiCollapseExample_{{mask}}">
                                      <div class="card card-body">
                                          {% if post.content_type in legal_extensions_vid %}
                                              <video controls id="video_{{mask}}">
                                                <source src="/{{post.content}}" type="video/mp4">
                                                <source src="/{{post.content}}" type="video/avi">
                                                <source src="/{{post.content}}" type="video/wmv">
                                                <source src="/{{post.content}}" type="video/webm">
                                              </video>
                                          {% elif post.content_type in legal_extensions_img %}
                                            <img src="/{{post.content}}">
                                          {% else %}
                                            {{post.content}}
                                          {% endif %}
                                      </div>
                                    </div>
                                    {% endif %}
                                {% endfor %}
                            </div>

                            <div class="row">
                                <div class="col-auto ">
                                    {% for post_id, count in tiangge_data.comment_counter_tiangge().items() %}
                                        {% if post_id == post.id %}
                                            <a href="{{ url_for('post', name=tiangge_name, title=post.title, hexcd=post.hex_cd) }}" class="btn btn-outline-dark btn-sm-super" type="submit">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-left-text " viewBox="0 0 16 16">
                                                  <path d="M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4.414A2 2 0 0 0 3 11.586l-2 2V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12.793a.5.5 0 0 0 .854.353l2.853-2.853A1 1 0 0 1 4.414 12H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                                                  <path d="M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"/>
                                                </svg>
                                                <small style="vertical-align:middle" class="">
                                                    {% if count > 1 %}{{count}} comments
                                                    {% elif count == 1 %}{{count}} comment
                                                    {% elif count == 0 %} 0 comment
                                                    {% endif %}
                                                </small>
                                            </a>
                                        {% endif %}
                                    {% endfor %}
                                </div>

                                {% for post_id, mask in post_mask.items() %}
                                    {% if post_id == post.id %}
                                        <div class="col-auto">
                                            <a href="#multiCollapseExample_{{mask}}_share" class="btn btn-outline-dark btn-sm-super" type="submit" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="multiCollapseExample_{{mask}}_share">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-share" viewBox="0 0 16 16">
                                                  <path d="M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"/>
                                                </svg>
                                                <small style="vertical-align:middle">
                                                    share
                                                </small>
                                            </a>
                                        </div>
                                    {% endif %}
                                {% endfor %}
                                <div class="col-auto  ">
                                    {% if user_logged %}
                                        <form action="{{ url_for('save_post_process')}}" method="post" id="submitNoButton" >
                                            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
                                            <input type="text" name="post_title" value="{{ post.title }}" hidden readonly>
                                            <input type="text" name="uploader_username" value="{{ post.username }}" hidden readonly>
                                            <input type="text" name="post_date_created" value="{{ post.date_created }}" hidden readonly>
                                            <input type="text" name="tiangge_name" value="{{ tiangge_name }}"  hidden readonly>
                                            {% if currentuser_data.current_user_saved(post.id) %}
                                                <button type="submit" name="saved_state" value="unsaved" class="btn btn-outline-successinv btn-sm-super">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bookmark " viewBox="0 0 16 16" style="">
                                                      <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>
                                                    </svg>
                                                    <small style="vertical-align:middle">
                                                        saved
                                                    </small>
                                                </button>
                                            {% else %}
                                                <button type="submit" name="saved_state"  value="saved" class="btn btn-outline-success btn-sm-super">
                                                    <span aria-hidden="true">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bookmark " viewBox="0 0 16 16" style="">
                                                          <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>
                                                        </svg>
                                                    </span>

                                                    <small style="vertical-align:middle">
                                                        save
                                                    </small>
                                                </button>
                                            {% endif %}
                                        </form>
                                    {% else %}
                                        <button type="submit" name="saved_state" value="saved" class="btn btn-outline-success btn-sm-super" type="button" data-bs-toggle="modal" data-bs-target="#exampleModal_login">
                                            <span aria-hidden="true">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bookmark " viewBox="0 0 16 16" style="">
                                                  <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>
                                                </svg>
                                            </span>

                                            <small style="vertical-align:middle">
                                                save
                                            </small>
                                        </button>
                                    {% endif %}
                                </div>
                                <div class="col-auto">
                                    {% if user_logged %}
                                        <form action="{{ url_for('hide_post_process') }}" method="post">
                                            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
                                            <input type="text" name="uploader_username" value="{{ post.username }}" hidden readonly>
                                            <input type="text" name="post_title" value="{{ post.title }}" hidden readonly>
                                            <input type="text" name="post_date_created" value="{{ post.date_created }}" hidden readonly>
                                            <input type="text" name="tiangge_name" value="{{ tiangge_name }}"  hidden readonly>
                                            {% if currentuser_data.current_user_hidden(post.id) %}
                                                <button type="submit" name="hidden_state" value="unhidden" class="btn btn-outline-secondaryinv btn-sm-super" >
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-slash" viewBox="0 0 16 16">
                                                      <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>
                                                      <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>
                                                      <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>
                                                    </svg>
                                                        <small style="vertical-align:middle">
                                                            Unhide
                                                        </small>
                                                </button>
                                            {% else %}
                                                <button type="submit" name="hidden_state" value="hidden" class="btn btn-outline-secondary btn-sm-super" >
                                                    <span aria-hidden="true">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bookmark " viewBox="0 0 16 16" style="">
                                                      <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>
                                                    </svg>
                                                    </span>
                                                    <small style="vertical-align:middle">
                                                        Hide
                                                    </small>
                                                </button>
                                            {% endif %}
                                        </form>
                                    {% else %}
                                        <button value="Hide" class="btn btn-outline-secondary btn-sm-super"  type="button" data-bs-toggle="modal" data-bs-target="#exampleModal_login">
                                            <span aria-hidden="true">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bookmark " viewBox="0 0 16 16" style="">
                                                  <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>
                                                </svg>
                                            </span>

                                            <small style="vertical-align:middle">
                                                Hide
                                            </small>
                                        </button>
                                    {% endif %}
                                </div>
                                <div class="col-auto">
                                    {% if user_logged %}
                                    <button class="btn btn-outline-danger btn-sm-super" type="button" data-bs-toggle="modal" data-bs-target="#myModal_{{post.hex_cd}}">
                                    {% else %}
                                    <button class="btn btn-outline-danger btn-sm-super" type="button" data-bs-toggle="modal" data-bs-target="#exampleModal_login">
                                    {% endif %}
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-exclamation-circle" viewBox="0 0 16 16">
                                          <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                          <path d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"/>
                                        </svg>

                                        <small style="vertical-align:middle">
                                            report
                                        </small>
                                    </button>

                                    <div class="modal fade" tabindex="-1" id="myModal_{{post.hex_cd}}">
                                      <div class="modal-dialog modal-dialog-centered">
                                        <div class="modal-content">
                                          <div class="modal-header">
                                            <h5 class="modal-title">Report this post</h5>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                          </div>
                                            <form action="{{ url_for('report_post_process')}}" method="post">
                                              <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                                              <input type="text" name="uploader_username" value="{{ post.username }}" hidden readonly>
                                              <input type="text" name="post_title" value="{{ post.title }}" hidden readonly>
                                              <input type="text" name="post_date_created" value="{{ post.date_created }}" hidden readonly>
                                              <input type="text" name="tiangge_name" value="{{ tiangge_name }}" hidden readonly>

                                              <div class="modal-body">
                                                  <div class="row gy-2">

                                                    <div class="">
                                                        <p>Tell us why you are reporting this post:</p>
                                                    </div>

                                                    <div class="btn-group" role="group" aria-label="Basic checkbox toggle button group">
                                                        <div class="row fs-7 gap-1 container">
                                                            <div class="col-auto p-1">
                                                              <input type="checkbox" name="report_type_1" class="btn-check " id="btncheck1_{{post.hex_cd}}" autocomplete="off" value="violence">
                                                              <label class="btn btn-outline-secondary rounded-pill btn-sm" for="btncheck1_{{post.hex_cd}}"> Violence </label>
                                                            </div>

                                                            <div class="col-auto p-1">
                                                              <input type="checkbox" name="report_type_2" class="btn-check" id="btncheck2_{{post.hex_cd}}" autocomplete="off" value="harrassment">
                                                              <label class="btn btn-outline-secondary rounded-pill btn-sm" for="btncheck2_{{post.hex_cd}}"> Harrassment </label>
                                                            </div>

                                                            <div class="col-auto p-1">
                                                              <input type="checkbox" name="report_type_3" class="btn-check" id="btncheck3_{{post.hex_cd}}" autocomplete="off" value="suicide/self-harm">
                                                              <label class="btn btn-outline-secondary rounded-pill btn-sm" for="btncheck3_{{post.hex_cd}}"> Suicide/Self-harm </label>
                                                            </div>

                                                            <div class="col-auto p-1">
                                                              <input type="checkbox" name="report_type_4" class="btn-check " id="btncheck4_{{post.hex_cd}}" autocomplete="off" value="abuse">
                                                              <label class="btn btn-outline-secondary rounded-pill btn-sm" for="btncheck4_{{post.hex_cd}}"> Abuse </label>
                                                            </div>

                                                            <div class="col-auto p-1">
                                                              <input type="checkbox" name="report_type_5" class="btn-check " id="btncheck5_{{post.hex_cd}}" autocomplete="off" value="hate_speech">
                                                              <label class="btn btn-outline-secondary rounded-pill btn-sm" for="btncheck5_{{post.hex_cd}}"> Hate Speech </label>
                                                            </div>

                                                            <div class="col-auto p-1">
                                                              <input type="checkbox" name="report_type_6" class="btn-check" id="btncheck6_{{post.hex_cd}}" autocomplete="off" value="misinformation">
                                                              <label class="btn btn-outline-secondary rounded-pill btn-sm" for="btncheck6_{{post.hex_cd}}"> Misinformation </label>
                                                            </div>

                                                            <div class="col-auto p-1">
                                                              <input type="checkbox" name="report_type_7" class="btn-check" id="btncheck7_{{post.hex_cd}}" autocomplete="off" value="spam">
                                                              <label class="btn btn-outline-secondary rounded-pill btn-sm" for="btncheck7_{{post.hex_cd}}"> Spam </label>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="py-2 row">
                                                        <div class="col-1"></div>
                                                        <div class="col-10 border-bottom"></div>
                                                        <div class="col-1"></div>
                                                    </div>

                                                    <div class="py-2 row">
                                                        <div class="col-1"></div>
                                                        <div class="col-10">
                                                            <textarea css="rounded" placeholder="Specify other reason" style="width:100%;" class="" name="report_type_8" maxlength="40000" id="report_type_8"></textarea>
                                                        </div>
                                                        <div class="col-1"></div>
                                                    </div>

                                                  </div>
                                              </div>

                                              <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                                <button type="submit" class="btn btn-primary">Submit report</button>
                                              </div>
                                              </form>
                                        </div>
                                      </div>
                                    </div>

                                    <div class="modal fade" id="exampleModal_login" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                      <div class="modal-dialog modal-dialog-centered">
                                        <div class="modal-content">
                                          <div class="modal-header">
                                            <h5 class="modal-title" id="exampleModalLabel_login_report">Modal title</h5>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                          </div>
                                          <form action="{{url_for('login_process')}}" method="post">
                                          <div class="modal-body">
                                            <div class="input-group">
                                                <input type="text" name="username" placeholder="Username" class="form-control">
                                                <input type="text" name="password" placeholder="Password" class="form-control">
                                            </div>
                                            <div>
                                               <input type="submit" value="Log-in" class="form-control">
                                            </div>
                                          </div>
                                          <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                            <button type="button" class="btn btn-primary">Login</button>
                                          </div>
                                          </form>
                                        </div>
                                      </div>
                                    </div>

                                </div>
                            </div>

                            <div class="">
                            </div>
                    </div>
                        <div class="col-sm-1">
                            <input type="text" name="name" value="{{tiangge_name }}" hidden readonly>
                                {% if user_logged %}
                                    {% if post.user_id == user_id or profile_data.user_mod_privileges(post.tiangge_id) %}
                                        <div class="col-1 p-1 ms-3 pt-2">
                                            <button class="btn btn-outline-dark btn-circle  btn-sm " type="button" data-bs-toggle="dropdown" aria-expanded="false" data-bs-offset="5, -35">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots" viewBox="0 0 16 16">
                                                  <path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/>
                                                </svg>
                                            </button>
                                            <ul class="dropdown-menu dropdown-menu-lg-end ">
                                                <li class="mx-2 my-2">
                                                    <form action="{{ url_for('text_post_edit', name=tiangge_name, hexcd=post.hex_cd, title=post.title) }}" method="post">
                                                        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
                                                        <input type="number" name="approval_id" value="{{post.approval_id}}" hidden readonly>
                                                        <input name="hex_cd" value="{{post.hex_cd}}" readonly hidden>
                                                        <input name="date_created" value="{{post.date_created}}" readonly hidden>
                                                        <button type="submit" value="Edit" class="dropdown-item btn btn-sm text-center">Edit</button>
                                                    </form>
                                                </li>
                                                <li class="mx-2 my-2">
                                                    <form action="{{ url_for('text_post_delete', name=tiangge_name, hexcd=post.hex_cd, title=post.title) }}" method="post" id="delete_{{post.hex_cd}}">
                                                        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
                                                        <input name="hex_cd" value="{{post.hex_cd}}" readonly hidden>
                                                        <input type="text" name="uploader_username" value="{{post.username}}" readonly hidden>
                                                        <input type="text" name="content" value="{{post.content}}" hidden readonly >
                                                        <input type="text" name="content_type" value="{{post.content_type}}" hidden readonly >
                                                        <input type="text" name="post_title" value="{{post.title}}" hidden readonly >
                                                        <input name="post_date_created" value="{{post.date_created}}" readonly hidden>
                                                        <button type="button" value="Delete" class="dropdown-item btn btn-sm text-center" data-bs-toggle="modal" data-bs-target="#modal_delete_{{post.hex_cd}}">Delete</button>
                                                    </form>
                                                </li>
                                            </ul>
                                        </div>
                                    {% endif %}
                                {% else %}
                                    {{ skip }}
                                {% endif %}
                        </div>
                </div>

                <div class="modal fade" id="modal_delete_{{post.hex_cd}}" tabindex="-1" aria-labelledby="modal_delete_on_{{post.hex_cd}}" aria-hidden="true">
                  <div class="modal-dialog modal-dialog-centered modal-sm">
                    <div class="modal-content ">
                      <div class="modal-header">
                          <div class="pe-2 text-danger">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-exclamation-circle" viewBox="0 0 16 16">
                                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                <path d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"/>
                            </svg>
                          </div>
                        <h5 class="modal-title" id="modal_delete_on_{{post.hex_cd}}">Delete Post?</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <form action="{{url_for('login_process')}}" method="post">
                          <div class="modal-body">
                            <p class="px-3 text-sm-start">
                                Are you sure you want to delete "{{post.title}}"?
                            </p>
                            <p class="px-3 text-sm-start text-danger">
                                You cannot undo this action.
                            </p>
                          </div>
                          <div class="modal-footer">
                            <div class="d-grid gap-2 col-8 mx-auto">
                                <button type="button" class="btn btn-secondary rounded-pill" data-bs-dismiss="modal">Go back</button>
                                <button type="button" class="btn btn-danger rounded-pill" onclick="submit_post_delete('{{post.hex_cd}}')">Confirm</button>
                            </div>
                          </div>
                      </form>
                    </div>
                  </div>
                </div>

                <div class="row">
                    <div class="col-2"></div>
                    <div class="col-8 p-2">
                        {% for post_id, mask in post_mask.items() %}
                            {% if post_id == post.id %}
                                <div class="">
                                    <div class="collapse multi-collapse" id="multiCollapseExample_{{mask}}_share">
                                      <div class="card card-body " style="overflow:auto">
                                        {% for id, name in tiangge_data.post_data_in_tiangge().items() %}
                                            {% if post.id == id %}
                                                <div class="input-group py-2" id="copy_link">
                                                    <input type="text" class="form-control" value="{{ url_for('post', name=tiangge_name, title=post.title, hexcd=post.hex_cd) }}" aria-label="Post link" id="{{mask}}_link" readonly>
                                                    <button type="button" class="btn btn-outline-dark btn-sm" id="{{mask}}" onclick="link_copy_Function('{{mask}}')">Copy link</button>
                                                </div>
                                                <div class="shareon" style="width:100%;margin:auto;text-align:left" data-url="{{ url_for('post', name=tiangge_name, title=post.title, hexcd=post.hex_cd) }}">
                                                    <a class="twitter" data-title="Tweet {{post.username}}'s {{post.title}}."></a>
                                                    <a class="facebook" data-title="Share {{post.username}}'s {{post.title}}."></a>
                                                    <!-- FB App ID is required for the Messenger button to function -->
                                                    <!--  <a class="messenger" data-fb-app-id="0123456789012345"></a> -->
                                                    <a class="reddit"></a>
                                                    <a class="pinterest"></a>
                                                    <a class="viber" data-text="Check this out!"></a>
                                                    <a class="telegram "data-text="Check this out!"></a>
                                                    <a class="whatsapp" data-text="Check this out!"></a>
                                                </div>
                                          {% endif %}
                                        {% endfor %}
                                      </div>
                                    </div>
                                </div>
                            {% endif %}
                        {% endfor %}
                    </div>

                </div>
                    {% if not loop.last %}
                        <div class="mx-1 my-3 border-bottom"></div>
                    {% else %}
                        <div class="mx-1 my-3"></div>
                    {% endif %}

                {% endfor %}
            </div>
        </div>
        <div class="col-sm-4">
            <div class="pt-3">
                <div class="card">
                  <div class="card-header ">
                    <div class="row">
                        <div class="col-sm-auto">
                        About the Tiangge
                        </div>
                        <div class="col-sm-auto">
                        <form action="{{ url_for('tiangge_delete') }}" method="post">
                            <input type="number" name="id" value="{{tiangge_data.tiangge_name_to_id()['id']}}" hidden readonly>
                            <button type="submit" class="btn btn-danger btn-sm badge rounded-pill">Delete t/{{tiangge_name }}</button>
                        </form>
                        </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <h6 class="card-title">Welcome to {{tiangge_name}}</h6>
                    <p class="card-text"> Date created: {{tiangge_data.data_tiangge_date_created()}}</p>
                    <div class="my-3 border-bottom"></div>
                    <p class="card-text">
                          {{tiangge_data.data_tiangge_subscribers()}}
                  </div>

                </div>
            </div>

            <div class="py-2">
                {% if user_logged %}
                    {% include 'sidebar.html' %}
                {% else %}
                {{skip}}
                {% endif %}
            </div>

            <div class="py-2">
                  <div class="card card-header ">
                    t/{{tiangge_name}} Rules
                  </div>
                  <div class="border-top-0">
                    <div class="accordion" id="accordionExample">
                      <div class="accordion-item">
                        <h2 class="accordion-header" id="headingOne">
                          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                            Rule #1
                          </button>
                        </h2>
                        <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne">
                          <div class="accordion-body">
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut vel nulla ac purus auctor eleifend.
                          </div>
                        </div>
                      </div>
                      <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTwo">
                          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                            Rule #2
                          </button>
                        </h2>
                        <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo">
                          <div class="accordion-body">
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut vel nulla ac purus auctor eleifend.
                          </div>
                        </div>
                      </div>
                      <div class="accordion-item">
                        <h2 class="accordion-header" id="headingThree">
                          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                            Rule #3
                          </button>
                        </h2>
                        <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree">
                          <div class="accordion-body">
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut vel nulla ac purus auctor eleifend.
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
            </div>

            <div class="py-2">
                  <div class="card ">
                      <div class="card-header">
                            Moderator List
                      </div>
                      <div class="card-body">
                          Yes
                      </div>
                  </div>
            </div>

        </div>
    </div>

</div>

<footer class="footer mt-auto bg-transparent py-3">
  <div class="container border-top">
    <div class="col-md-4 d-flex align-items-center ">
      <a href="{{url_for('index')}}" method="get" class="mb-3 me-2 mb-md-0 text-muted text-decoration-none lh-1">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-shop-window" viewBox="0 0 16 16">
          <path d="M2.97 1.35A1 1 0 0 1 3.73 1h8.54a1 1 0 0 1 .76.35l2.609 3.044A1.5 1.5 0 0 1 16 5.37v.255a2.375 2.375 0 0 1-4.25 1.458A2.371 2.371 0 0 1 9.875 8 2.37 2.37 0 0 1 8 7.083 2.37 2.37 0 0 1 6.125 8a2.37 2.37 0 0 1-1.875-.917A2.375 2.375 0 0 1 0 5.625V5.37a1.5 1.5 0 0 1 .361-.976l2.61-3.045zm1.78 4.275a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 1 0 2.75 0V5.37a.5.5 0 0 0-.12-.325L12.27 2H3.73L1.12 5.045A.5.5 0 0 0 1 5.37v.255a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0zM1.5 8.5A.5.5 0 0 1 2 9v6h12V9a.5.5 0 0 1 1 0v6h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1V9a.5.5 0 0 1 .5-.5zm2 .5a.5.5 0 0 1 .5.5V13h8V9.5a.5.5 0 0 1 1 0V13a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V9.5a.5.5 0 0 1 .5-.5z"/>
        </svg>
      </a>
      <span class="mb-3 mb-md-0 text-muted">Tianggeddit  2022 </span>
    </div>
  </div>
</footer>
{% endblock %}
